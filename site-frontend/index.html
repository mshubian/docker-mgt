<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>DockerManagement</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/login.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </head>


    <body>
		<div class="panel panel-info" id="login-div">
			<div class="panel-heading">
				<h3 class="panel-title">Login</h3>
			</div>
			<div class="panel-body" id="login-panel-body">
			  	<fieldset class="form-group">
			    	<label for="exampleInputEmail1">Email address</label>
			    	<input type="email" class="form-control" id="login-user" name="login" placeholder="Enter email/ phone/ username">
			    	<small class="text-muted">We'll never share your info to anyone !</small>
			  	</fieldset>

			  	<fieldset class="form-group">
			    	<label for="exampleInputPassword1">Password</label>
			    	<input type="password" class="form-control" id="login-password" name="password" placeholder="Password">
			  	</fieldset>

			  	<button class="btn btn-lg btn-warning" onclick="test_ajax()">cancel</button>
			  	<button class="btn btn-lg btn-primary" onclick="login_func()">login</button>
			</div>
		</div>
    </body>


	<script type="text/javascript" language="javascript">
		function login_func(){
			var login = document.getElementById('login-user').value ;
			var password = document.getElementById('login-password').value ;
			var login_url = "http://localhost:8088/api/login";
			$.ajax({
			  	url: login_url,
			  	type: "POST",
			  	contentType: "application/json",
			  	data: JSON.stringify({
			    	"login": login,
			    	"password": password
			  	}),
			  	success: function(data){
			  		console.log(data);
			  		alert(data);
			  		window.location.href = "home.html";
			  		return false;
			  	},
			  	error: function(data){
			  		console.log(data);
					console.log("=================error=============================");
			  	},
			});
		};
	</script>

	<script type="text/javascript" language="javascript">
		function test_ajax(){
			var test_url = "http://localhost:8088/api/hosts";
			$.ajax({
			  	url: test_url,
			  	type: "GET",
			  	contentType: "application/json",
			  	// data: JSON.stringify({
			   //  	"login": login,
			   //  	"password": password
			  	// }),
			  	success: function(datalist){
			  		alert(datalist[0]);
			  		return false;
			  	},
			  	error: function(data){
			  		console.log(data);
					console.log("=================error=============================");
			  	},
			});
		};
	</script>



</html>